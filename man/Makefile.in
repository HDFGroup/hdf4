# ****************************************************************************
# * NCSA HDF                                                                 *
# * Software Development Group                                               *
# * National Center for Supercomputing Applications                          *
# * University of Illinois at Urbana-Champaign                               *
# * 605 E. Springfield, Champaign IL 61820                                   *
# *                                                                          *
# * For conditions of distribution and use, see the accompanying             *
# * hdf/COPYING file.                                                        *
# *                                                                          *
# ****************************************************************************
#
# $Id$
#
# ##################################################################
#

### Start of system configuration section. ####
# Set shell so we know what it is
SHELL = /bin/sh

# 'srcdir' Gets set to directory this Makefile is found in
srcdir = .
TOP_SRCDIR = ..

prefix = $(TOP_SRCDIR)/NewHDF

exec_prefix = $(prefix)
tooldir = $(exec_prefix)/$(target)

program_transform_name =

datadir = $(prefix)/lib
mandir = $(prefix)/man
man1dir = $(mandir)/man1
man2dir = $(mandir)/man2
man3dir = $(mandir)/man3
man4dir = $(mandir)/man4
man5dir = $(mandir)/man5
man6dir = $(mandir)/man6
man7dir = $(mandir)/man7
man8dir = $(mandir)/man8
man9dir = $(mandir)/man9
docdir = $(datadir)/doc

INSTALL = ${TOP_SRCDIR}/install-sh -c
INSTALL_PROGRAM = $(INSTALL)
INSTALL_DATA = $(INSTALL) -m 644

# /usr/local/bin/m4 (GNU version?)
M4   = /usr/local/bin/m4
# /usr/local/bin/perl (GNU version?)
PERL = /usr/local/bin/perl

# Name of achive randomizer, usually ranlib (use 'touch' if non-existant)
RANLIB = ranlib

# Name of library archiver and flags to send, default 'AR=ar', 'ARFLAGS=r'
AR = ar
ARFLAGS = r

# Name of remove utility, default 'RM=/bin/rm', 'RMFLAGS=-f'
RM = /bin/rm
RMFLAGS = -f

#Compilier defaults overriden by top level make
AS = as
CC = gcc
CFLAGS = -ansi
FC = f77
FFLAGS=

# Set for document generation
MAKEINFO = makeinfo
TEXI2DVI = texi2dvi

# The echo command.
ECHO = echo

# Directory in which to install scripts.
bindir = $(exec_prefix)/bin

# Directory in which to install library files.
libdir = $(prefix)/lib

# Directory in which to install include files.
includedir = $(prefix)/include

# Directory in which to install documentation info files.
infodir = $(prefix)/info

#### ----- host and target specific makefile fragments come in here.-------
### ------------------- end of makefile fragments -------------------------

# ############# End of system configuration section. ###############

# ==> where is your HDF library (libdf.a) located?
# ==> where are your hdf.h, hdfi.h and vg.h files located?
HDFINC=$(srcdir)/../src
HDFLIB=$(srcdir)/../src
HDFSRC=$(srcdir)/../src
HDFBIN=$(srcdir)/../bin

# ==> where is your JPEG library (libjpeg.a) located?
JPEGLIB=$(srcdir)/../jpeg
JPEGINC=$(srcdir)/../jpeg

DISTFILES = $(MAN_NROFF_1) $(MAN_NROFF_3)

# Man pages
MAN_NROFF_1 = hdf.1 hdfls.1 hdfpack.1 hdp.1 ristosds.1 hdfunpac.1
MAN_NROFF_3 = hxsetcreatedir.3 hxsetdir.3 sdsetaccesstype.3 \
              sdisdimval_bwcomp.3 sdsetdimval_comp.3 mfan.3 \
	      vssetexternalfile.3

all: docs

nofortran: all

rebuild:
	true

rebuildnofortran:
	true

# Leave this target blank with no actions, the rebuild macros above depend on it
force_rebuild:

install: install-man1 install-man3

install-man1: 
	for p in $(MAN_NROFF_1); do \
	    $(INSTALL_DATA) \
		`pwd`/$$p $(man1dir)/`$(ECHO) $$p`; \
	done

install-man3: 
	for p in $(MAN_NROFF_3); do \
	    $(INSTALL_DATA) \
		`pwd`/$$p $(man3dir)/`$(ECHO) $$p`; \
	done

docs:
	true

clean:
	true

distclean:
	-$(RM) $(RMFLAGS) config.status Makefile

depend: 
	 true

saber:	
	true

# for distribution creation
distdir = $(TOP_SRCDIR)/$(PACKAGE)-$(VERSION)/$(curdir)
curdir = man
dist: $(DISTFILES)
	@for file in $(DISTFILES); do \
	  ln $(srcdir)/$$file $(distdir)/$$file 2> /dev/null \
	    || { echo copying $$file instead; \
	    cp -p $(srcdir)/$$file $(distdir)/$$file;}; \
	done

help:
	@echo ""
	@echo "Make supports the following targets in the 'utilities' directory"
	@echo "make help    - prints this usage section"
	@echo "make all     - (DEFAULT) makes man pages"
	@echo "make install - install HDF man pages "
	@echo "make clean     - cleans up "
	@echo "make distclean - cleans up including"
	@echo "                 configuration(Makefiles,config.status,..)"
	@echo ""

# DO NOT DELETE THIS LINE -- make depend depends on it.
